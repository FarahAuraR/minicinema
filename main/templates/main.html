{% extends 'base.html' %}

{% block content %}
    <h1>Welcome to Mini Cinema</h1>

    <h5>Name:</h5>
    <p>{{name}}</p>

    <h5>Class:</h5>
    <p>{{class}}</p>
    
    <h4>You've added {{ items.count }} movie(s) to your Mini Cinema experience!</h4>
    <style>
        table {
          border-collapse: collapse;
          width: 100%;
        }
        
        th, td {
          padding: 8px;
          text-align: left;
          border-bottom: 1px solid rgb(122, 89, 89);
        }
        
        tr:hover {background-color: #e6c7b3;}
        </style>

    <table style="width:60%">
        <tr>
            <th>Name</th>
            <th>Amount</th>
            <th>Price</th>
            <th>Description</th>
            <th>Add Item</th>
            <th>Reduce Item</th>
            <th>Remove Item</th>
        </tr>
    
        {% comment %} Berikut cara memperlihatkan data produk di bawah baris ini {% endcomment %}
    
        {% for item in items %}
            <tr>
                <td>{{item.name}}</td>
                <td>{{item.amount}}</td>
                <td>{{item.price}}</td>
                <td>{{item.description}}</td>
                <td>
                    <form action="{% url 'main:add_item' item.id %}" method = "post">
                        {% csrf_token %}
                        <button style="align-items: center" type = "submit" name = "add">
                            add
                        </button>
                    </form>
                </td>
                <td>
                    <form action="{% url 'main:reduce_item' item.id %}" method = "post">
                        {% csrf_token %}
                        <button style="align-items: center" type = "submit" name="reduce">
                            reduce
                        </button>
                    </form>
                </td>
                <td>
                    <form action="{% url 'main:remove_item' item.id %}" method = "post">
                        {% csrf_token %}
                        <button style="align-items: center" type = "submit" name="remove">
                            remove
                        </button>
                    </form>
                </td>
            </tr>
        {% endfor %}
    </table>
    
    <br />
    
    <a href="{% url 'main:create_item' %}">
        <button>
            Add New Item
        </button>
    </a>
    <a href="{% url 'main:logout' %}">
        <button>
            Logout
        </button>
    </a>
    <h5>Last login: {{ last_login }}</h5>
    
    {% endblock content %}